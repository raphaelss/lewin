apply plugin: 'java'
apply plugin: 'application'

version = '1.0.1'

mainClassName = 'GUI.InterfaceGrafica'

tasks.withType(JavaCompile) {
  options.compilerArgs << "-Xlint"
}

jar {
  from(configurations.runtime.collect { it.isDirectory() ? it : zipTree(it) }) {
    exclude "META-INF/*.SF"
    exclude "META-INF/*.DSA"
    exclude "META-INF/*.RSA"
  }
  manifest {
    attributes 'Implementation-Title': 'Lewin, compositional calculator',
               'Implementation-Version': version,
               'Built-By': System.getProperty('user.name'),
               'Built-Date': new Date(),
               'Built-JDK': System.getProperty('java.version'),
               'Main-Class': mainClassName
  }
}

task wrapper(type: Wrapper) {
  gradleVersion = '2.3'
}

classes.doLast {
  copy {
    from 'src/main/dist/data'
    into 'build/classes/main/data'
  }
}
